export const IMPROV_BLE_SERVICE = "00467768-6228-2272-4663-277478268000";
export const IMPROV_BLE_CAPABILITIES_CHARACTERISTIC =
  "00467768-6228-2272-4663-277478268005";
export const IMPROV_BLE_CURRENT_STATE_CHARACTERISTIC =
  "00467768-6228-2272-4663-277478268001";
export const IMPROV_BLE_ERROR_STATE_CHARACTERISTIC =
  "00467768-6228-2272-4663-277478268002";
export const IMPROV_BLE_RPC_CHARACTERISTIC =
  "00467768-6228-2272-4663-277478268003";

export enum ImprovCurrentState {
  AUTHORIZATION_REQUIRED = 0x01,
  AUTHORIZED = 0x02,
  PROVISIONING = 0x03,
  PROVISIONED = 0x04,
}

export enum ImprovErrorState {
  NO_ERROR = 0x00,
  INVALID_RPC_PACKET = 0x01,
  UNKNOWN_RPC_COMMAND = 0x02,
  UNABLE_TO_CONNECT = 0x03,
  NOT_ACTIVATED = 0x04,
  UNKNOWN_ERROR = 0xff,
}

export enum ImprovRPCCommand {
  SEND_WIFI_SETTINGS = 0x01,
  IDENTIFY = 0x02,
}

export const hasIdentifyCapability = (capabilities: number) =>
  (capabilities & 1) === 1;
